<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Legenda Dochiei - Drumul spre Vârf</title>
    <style>
        :root {
            --romanian-red: #d32f2f;
        }

        body, html {
            margin: 0; padding: 0; height: 100%;
            font-family: 'Segoe UI', sans-serif;
            overflow: hidden;
            background-color: #000;
        }

        /* Efectul de urcare: fundalul se mișcă de sus în jos */
        #mountain-path {
            position: fixed;
            top: 0; left: 0;
            width: 100%;
            height: 150%; /* Mai înalt pentru a avea spațiu de mișcare */
            background: url('landscape.png') no-repeat center top;
            background-size: cover;
            z-index: -1;
            transition: transform 2s ease-in-out;
            filter: brightness(0.6);
        }

        #game-overlay {
            display: flex; align-items: center; justify-content: center;
            height: 100vh;
        }

        /* Container Transparent (Efect de sticlă) */
        .container {
            background: rgba(255, 255, 255, 0.15); /* Transparent */
            backdrop-filter: blur(10px); /* Încețoșează fundalul din spate */
            -webkit-backdrop-filter: blur(10px);
            color: white;
            padding: 40px;
            border-radius: 30px;
            max-width: 500px;
            width: 85%;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        #cojoc-display {
            width: 250px;
            height: 250px;
            margin: 0 auto 20px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            /* Dacă pozele au fundal negru, mix-blend-mode le poate face "transparente" temporar */
            mix-blend-mode: screen; 
            transition: all 0.6s ease;
        }

        h2 { text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }

        button {
            display: block; width: 100%; margin: 12px 0; padding: 15px;
            border: 1px solid rgba(255,255,255,0.5);
            background: rgba(211, 47, 47, 0.8);
            color: white; font-weight: bold; font-size: 16px;
            border-radius: 15px; cursor: pointer; transition: 0.3s;
        }

        button:hover {
            background: var(--romanian-red);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .progress-bar {
            width: 100%; height: 6px; background: rgba(255,255,255,0.2);
            border-radius: 3px; margin-bottom: 25px;
        }

        #progress-fill {
            width: 0%; height: 100%; background: var(--romanian-red);
            box-shadow: 0 0 10px var(--romanian-red);
            transition: width 0.6s ease;
        }

        .hidden { display: none; }
    </style>
</head>
<body>

<div id="mountain-path"></div>

<div id="game-overlay">
    <div class="container" id="quiz-container">
        <div class="progress-bar"><div id="progress-fill"></div></div>
        <div id="cojoc-display" style="background-image: url('cojoc1.png');"></div>
        <h2 id="story-title">Legenda Dochiei</h2>
        <p id="question-text">Urcă muntele și leapădă cojoacele iernii.</p>
        <div id="options">
            <button onclick="nextStep()">Începe urcușul</button>
        </div>
    </div>

    <div class="container hidden" id="result-container">
        <h2>Primăvara a sosit!</h2>
        <p id="martisor-desc"></p>
        <img src="Cojocul Tradițional.png" alt="Cojoc" style="width: 250px; mix-blend-mode: screen;">
        <button onclick="location.reload()">Reia drumul</button>
    </div>
</div>

<script>
    const questions = [
        { q: "Cojocul 1: Gheața. Ce lași în urmă?", a: ["Trecutul", "Rigiditatea", "Răceala"] },
        { q: "Cojocul 2: Vântul. Ce eliberezi?", a: ["Mânia", "Neliniștea", "Haosul"] },
        { q: "Cojocul 3: Lapovița. Ce arunci?", a: ["Amânarea", "Greutatea", "Incertitudinea"] },
        { q: "Cojocul 4: Ploaia. Ce cureți?", a: ["Regretul", "Eșecul", "Tristețea"] },
        { q: "Cojocul 5: Burnița. În ce crezi?", a: ["Speranță", "Instinct", "Răbdare"] },
        { q: "Cojocul 6: Soarele. Ce primești?", a: ["Lumină", "Căldură", "Viață"] },
        { q: "Cojocul 7: Ceața. Ce lași în urmă?", a: ["Confuzia", "Teama", "Îndoiala"] },
        { q: "Cojocul 8: Crivățul. Ce păstrezi?", a: ["Tăria", "Voința", "Curajul"] },
        { q: "Cojocul 9: Gerul. Ce protejezi?", a: ["Iubirea", "Puritatea", "Sufletul"] }
    ];

    let currentStep = 0;
    let scores = { A: 0, B: 0, C: 0 };

    function nextStep(choiceIndex) {
        if (choiceIndex !== undefined) {
            if(choiceIndex === 0) scores.A++;
            else if(choiceIndex === 1) scores.B++;
            else scores.C++;
            currentStep++;
        }

        if (currentStep < questions.length) {
            // Mișcăm imaginea de fundal în jos (creând efectul de urcare)
            const moveY = (currentStep / 9) * 30; // coboară fundalul cu până la 30%
            document.getElementById('mountain-path').style.transform = `translateY(${moveY}%)`;
            
            updateUI();
        } else {
            showFinalResult();
        }
    }

    function updateUI() {
        document.getElementById('cojoc-display').style.backgroundImage = `url('cojoc${currentStep + 1}.png')`;
        document.getElementById('progress-fill').style.width = ((currentStep + 1) / 9 * 100) + '%';
        document.getElementById('question-text').innerText = questions[currentStep].q;
        
        const optionsDiv = document.getElementById('options');
        optionsDiv.innerHTML = '';
        questions[currentStep].a.forEach((choice, i) => {
            const btn = document.createElement('button');
            btn.innerText = choice;
            btn.onclick = () => nextStep(i);
            optionsDiv.appendChild(btn);
        });
    }

    function showFinalResult() {
        document.getElementById('quiz-container').classList.add('hidden');
        document.getElementById('result-container').classList.remove('hidden');
        document.getElementById('martisor-desc').innerText = "Ai ajuns în vârf! Mărțișorul tău este gata.";
    }
</script>
</body>
</html>

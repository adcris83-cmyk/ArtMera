<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Legenda Dochiei - Drumul spre Vârf</title>
    <style>
        :root {
            --romanian-red: #d32f2f;
        }

        body, html {
            margin: 0; padding: 0; height: 100%;
            font-family: 'Segoe UI', sans-serif;
            overflow: hidden;
            background-color: #1a1a1a; /* Culoare de siguranță */
        }

        /* Imaginea de fundal - Landscape */
        #mountain-path {
            position: fixed;
            top: 0; 
            left: 0;
            width: 100%;
            height: 200vh; /* Dublul înălțimii ecranului pentru a avea spațiu de urcat */
            background-image: url('landscape.png');
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center bottom; /* Începe de la baza imaginii */
            z-index: -1;
            transition: transform 3s ease-in-out; /* Tranziție lină pentru urcare */
            filter: brightness(0.6);
        }

        #game-overlay {
            display: flex; align-items: center; justify-content: center;
            height: 100vh;
            width: 100%;
            position: relative;
            z-index: 10;
        }

        /* Containerul Transparent (Glassmorphism) */
        .container {
            background: rgba(255, 255, 255, 0.1); 
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            color: white;
            padding: 40px;
            border-radius: 30px;
            max-width: 450px;
            width: 85%;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
        }

        #cojoc-display {
            width: 250px;
            height: 250px;
            margin: 0 auto 20px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            /* Elimină fundalul negru al pozelor (dacă negrul e pur) */
            mix-blend-mode: screen; 
            transition: all 0.5s ease;
        }

        button {
            display: block; width: 100%; margin: 12px 0; padding: 15px;
            border: 1px solid rgba(255,255,255,0.3);
            background: rgba(211, 47, 47, 0.85);
            color: white; font-weight: bold; font-size: 16px;
            border-radius: 12px; cursor: pointer; transition: 0.3s;
        }

        button:hover {
            background: var(--romanian-red);
            transform: scale(1.03);
        }

        .progress-bar {
            width: 100%; height: 5px; background: rgba(255,255,255,0.2);
            border-radius: 3px; margin-bottom: 25px;
        }

        #progress-fill {
            width: 0%; height: 100%; background: var(--romanian-red);
            box-shadow: 0 0 15px var(--romanian-red);
            transition: width 0.6s ease;
        }

        .hidden { display: none; }
    </style>
</head>
<body>

<div id="mountain-path"></div>

<div id="game-overlay">
    <div class="container" id="quiz-container">
        <div class="progress-bar"><div id="progress-fill"></div></div>
        <div id="cojoc-display" style="background-image: url('cojoc1.png');"></div>
        <h2 id="story-title">Legenda Dochiei</h2>
        <p id="question-text">Ajut-o pe Dochia să urce muntele.</p>
        <div id="options">
            <button onclick="nextStep()">Începe aventura</button>
        </div>
    </div>

    <div class="container hidden" id="result-container">
        <h2>Primăvara a sosit!</h2>
        <p id="martisor-desc"></p>
        <img src="cojoc_traditional.png" alt="Cojoc Final" style="width: 280px; mix-blend-mode: screen;">
        <button onclick="location.reload()">Reia drumul</button>
    </div>
</div>

<script>
    const questions = [
        { q: "Cojocul 1: Gheața. Ce lași în urmă?", a: ["Trecutul", "Rigiditatea", "Răceala"] },
        { q: "Cojocul 2: Vântul. Ce eliberezi?", a: ["Mânia", "Neliniștea", "Haosul"] },
        { q: "Cojocul 3: Lapovița. Ce arunci?", a: ["Amânarea", "Greutatea", "Incertitudinea"] },
        { q: "Cojocul 4: Ploaia. Ce cureți?", a: ["Regretul", "Eșecul", "Tristețea"] },
        { q: "Cojocul 5: Burnița. În ce crezi?", a: ["Speranță", "Instinct", "Răbdare"] },
        { q: "Cojocul 6: Soarele. Ce primești?", a: ["Lumină", "Căldură", "Viață"] },
        { q: "Cojocul 7: Ceața. Ce lași în urmă?", a: ["Confuzia", "Teama", "Îndoiala"] },
        { q: "Cojocul 8: Crivățul. Ce păstrezi?", a: ["Tăria", "Voința", "Curajul"] },
        { q: "Cojocul 9: Gerul. Ce protejezi?", a: ["Iubirea", "Puritatea", "Sufletul"] }
    ];

    let currentStep = 0;
    let scores = { A: 0, B: 0, C: 0 };

    function nextStep(choiceIndex) {
        if (choiceIndex !== undefined) {
            if(choiceIndex === 0) scores.A++;
            else if(choiceIndex === 1) scores.B++;
            else scores.C++;
            currentStep++;
        }

        if (currentStep < questions.length) {
            // EFECTUL DE URCARE:
            // Deplasăm imaginea de fundal în jos pe axa Y. 
            // Fiindcă am pus-o la 200vh, avem mult spațiu să o coborâm.
            const movePercentage = (currentStep / 9) * 40; // Coboară până la 40% din înălțimea sa
            document.getElementById('mountain-path').style.transform = `translateY(${movePercentage}%)`;
            
            updateUI();
        } else {
            showFinalResult();
        }
    }

    function updateUI() {
        document.getElementById('cojoc-display').style.backgroundImage = `url('cojoc${currentStep + 1}.png')`;
        document.getElementById('progress-fill').style.width = ((currentStep + 1) / 9 * 100) + '%';
        document.getElementById('question-text').innerText = questions[currentStep].q;
        
        const optionsDiv = document.getElementById('options');
        optionsDiv.innerHTML = '';
        questions[currentStep].a.forEach((choice, i) => {
            const btn = document.createElement('button');
            btn.innerText = choice;
            btn.onclick = () => nextStep(i);
            optionsDiv.appendChild(btn);
        });
    }

    function showFinalResult() {
        document.getElementById('quiz-container').classList.add('hidden');
        document.getElementById('result-container').classList.remove('hidden');
        document.getElementById('martisor-desc').innerText = "Vârful a fost atins! Dochia a lepădat toate cojoacele.";
        // Muntele ajunge la punctul maxim de urcare
        document.getElementById('mountain-path').style.transform = `translateY(50%)`;
    }
</script>
</body>
</html>

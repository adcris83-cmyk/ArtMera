<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Legenda Dochiei - Proba PrimÄƒverii</title>
    <style>
        :root {
            --primary: #d32f2f;
            --spring: #4caf50;
            --sky: #e0f7fa;
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            background: var(--sky);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            transition: background 2s ease;
        }

        #game-board {
            width: 450px;
            background: white;
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.15);
            text-align: center;
            position: relative;
            z-index: 10;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #eee;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        #progress-fill {
            width: 0%;
            height: 100%;
            background: var(--spring);
            transition: width 0.5s;
        }

        .stage-box {
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .interactive-area {
            margin: 20px 0;
            padding: 20px;
            border: 2px dashed #ccc;
            border-radius: 15px;
            cursor: pointer;
            user-select: none;
            transition: all 0.3s;
        }

        .interactive-area:hover { border-color: var(--primary); }

        .big-icon { font-size: 80px; transition: transform 0.3s; }

        .shake { animation: shake 0.5s; }
        @keyframes shake {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            75% { transform: rotate(-5deg); }
            100% { transform: rotate(0deg); }
        }

        .hidden { display: none; }

        #final-screen {
            animation: fadeIn 1s;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .snur-anim {
            height: 5px;
            background: repeating-linear-gradient(90deg, #fff, #fff 10px, #ff0000 10px, #ff0000 20px);
            margin: 20px 0;
            border-radius: 5px;
        }
    </style>
</head>
<body>

<div id="game-board">
    <div id="ui-top">
        <h2 id="stage-title">Cojocul 1: GheaÈ›a</h2>
        <div class="progress-bar"><div id="progress-fill"></div></div>
        <p id="instruction">ApasÄƒ repetat pe gheaÈ›Äƒ sÄƒ o spargi!</p>
    </div>

    <div id="stage-content" class="stage-box">
        <div id="interact" class="interactive-area" onclick="handleAction()">
            <div id="main-emoji" class="big-icon">ðŸ§Š</div>
        </div>
        <p id="counter-label">Clicks: <span id="clicks">0</span>/10</p>
    </div>

    <div id="final-screen" class="hidden">
        <h1 style="color: var(--primary)">ðŸŒ¸ FelicitÄƒri! ðŸŒ¸</h1>
        <div class="snur-anim"></div>
        <p>Ai ajutat-o pe Dochia sÄƒ urce muntele È™i ai eliberat primÄƒvara!</p>
        <div id="martisor-img" style="font-size: 100px;">ðŸŒ¸</div>
        <p id="final-stats"></p>
        <button onclick="location.reload()" style="padding: 10px 20px; border-radius: 20px; cursor:pointer;">JoacÄƒ din nou</button>
    </div>
</div>

<script>
    let currentStage = 1;
    let clicks = 0;
    let totalTime = 0;
    let timer = setInterval(() => totalTime++, 1000);

    const stages = {
        1: { title: "Cojocul de GheaÈ›Äƒ", instr: "Sparge gheaÈ›a!", emoji: "ðŸ§Š", target: 10 },
        2: { title: "Cojocul de VÃ¢nt", instr: "SuflÄƒ vÃ¢ntul (apasÄƒ rapid)!", emoji: "ðŸŒ¬ï¸", target: 12 },
        3: { title: "Cojocul de Nor", instr: "AlungÄƒ norii de zÄƒpadÄƒ!", emoji: "â˜ï¸", target: 8 },
        4: { title: "Cojocul de ApÄƒ", instr: "PorneÈ™te pÃ¢rÃ¢ul!", emoji: "ðŸ’§", target: 15 },
        5: { title: "Cojocul de PÄƒmÃ¢nt", instr: "Trezeste pÄƒmÃ¢ntul!", emoji: "â›°ï¸", target: 10 },
        6: { title: "Cojocul de Mugur", instr: "AjutÄƒ mugurii sÄƒ creascÄƒ!", emoji: "ðŸŒ¿", target: 12 },
        7: { title: "Cojocul de PasÄƒre", instr: "CheamÄƒ rÃ¢ndunelele!", emoji: "ðŸ¦", target: 10 },
        8: { title: "Cojocul de Soare", instr: "ÃŽncÄƒlzeÈ™te muntele!", emoji: "â˜€ï¸", target: 20 },
        9: { title: "Cojocul de Flori", instr: "FÄƒ florile sÄƒ Ã®nfloreascÄƒ!", emoji: "ðŸŒ·", target: 10 }
    };

    function handleAction() {
        const icon = document.getElementById('main-emoji');
        icon.classList.add('shake');
        setTimeout(() => icon.classList.remove('shake'), 200);

        clicks++;
        document.getElementById('clicks').innerText = clicks;

        if (clicks >= stages[currentStage].target) {
            nextStage();
        }
    }

    function nextStage() {
        currentStage++;
        clicks = 0;

        if (currentStage > 9) {
            finishGame();
            return;
        }

        // Update UI
        const s = stages[currentStage];
        document.getElementById('stage-title').innerText = `Cojocul ${currentStage}: ${s.title}`;
        document.getElementById('instruction').innerText = s.instr;
        document.getElementById('main-emoji').innerText = s.emoji;
        document.getElementById('clicks').innerText = "0";
        document.getElementById('counter-label').innerHTML = `Clicks: <span id="clicks">0</span>/${s.target}`;
        
        // Progress bar
        document.getElementById('progress-fill').style.width = ((currentStage-1) / 9 * 100) + "%";
        
        // Background warming
        document.body.style.background = `hsl(${180 + (currentStage * 10)}, 70%, 85%)`;
    }

    function finishGame() {
        clearInterval(timer);
        document.getElementById('ui-top').classList.add('hidden');
        document.getElementById('stage-content').classList.add('hidden');
        document.getElementById('final-screen').classList.remove('hidden');
        document.getElementById('final-stats').innerText = `Timp total: ${totalTime} secunde.`;
        document.body.style.background = "#fff9c4";
        
        // Efect de confetti simplu
        for(let i=0; i<30; i++) {
            createPetal();
        }
    }

    function createPetal() {
        const p = document.createElement('div');
        p.innerText = "ðŸŒ¸";
        p.style.position = "fixed";
        p.style.left = Math.random() * 100 + "vw";
        p.style.top = "-20px";
        p.style.fontSize = Math.random() * 20 + 10 + "px";
        p.style.transition = `top ${Math.random() * 3 + 2}s linear`;
        document.body.appendChild(p);
        setTimeout(() => p.style.top = "110vh", 10);
    }
</script>

</body>
</html>
